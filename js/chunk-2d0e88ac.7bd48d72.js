(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e88ac"],{"8a5b":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CRow",{attrs:{id:"sensorTable"}},[n("CCol",{attrs:{sm:"12",md:"12"}},[n("CCard",[n("CCardHeader",[n("h3",[e._v("Mettre à jour capteur")])]),n("CCardBody",[n("Table",{attrs:{allDBsensors:e.allDBsensors},on:{"delete-action":e.deleteSensorModal,"edit-action":e.editSensorModal}})],1),n("CCardFooter")],1),n("Modal",{attrs:{id:"exampleModal"},on:{close:function(t){e.boolModal1=!1}}},[n("h2",{attrs:{slot:"title"},slot:"title"},[e._v("Modification Capteur")]),n("EditForm",{attrs:{slot:"body_content",editFormData:e.editFormData},on:{"edit-done":e.postEditedData,"cancel-edit":e.close_edit},slot:"body_content"})],1),n("Modal",{attrs:{id:"deleteModal"}},[n("h1",{attrs:{slot:"title"},slot:"title"},[e._v("Confirmer la suppression")]),n("p",{attrs:{slot:"body_content"},slot:"body_content"},[e._v("Êtes vous sur de vouloir supprimer ?")]),n("button",{staticClass:"btn btn-danger",attrs:{slot:"button1",type:"button"},on:{click:e.deleteSensor},slot:"button1"},[e._v("Supprimer")]),n("button",{staticClass:"btn btn-secondary",attrs:{slot:"button2",type:"button","data-dismiss":"modal"},slot:"button2"},[e._v("Annuler")])])],1)],1)],1)},s=[],a=n("b98d"),r=n("714b"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-hover table-bordered table-striped"},[e._m(0),n("tbody",e._l(e.allDBsensors,(function(t){return n("tr",[n("th",{attrs:{scope:"row",id:t.sensor_name}},[e._v(e._s(t.id))]),n("td",[e._v(e._s(t.sensor_name))]),n("td",[e._v(e._s(t.sensor_zone))]),n("td",[e._v(e._s(t.sensor_desc))]),n("td",[e._v(e._s(t.sensor_type_name))]),n("td",[e._t("EditButton",[n("Button",{staticClass:"btn btn-success btn-sm btn-block",attrs:{sensorsID:t.id},on:{click:function(n){return e.fireEdit(t)}}},[e._v(" Modifier ")])]),e._t("DeleteButton",[n("Button",{staticClass:"btn btn-danger btn-sm btn-block",attrs:{sensorsID:t.id},on:{click:function(n){return e.fireDelete(t)}}},[e._v(" Supprimer ")])])],2)])})),0)])},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[e._v("ID")]),n("th",{attrs:{scope:"col"}},[e._v("Nom Capteur")]),n("th",{attrs:{scope:"col"}},[e._v("Nom Zone")]),n("th",{attrs:{scope:"col"}},[e._v("Description")]),n("th",{attrs:{scope:"col"}},[e._v("Type")]),n("th",{attrs:{scope:"col"}},[e._v("Action")])])])}],i=n("750b"),c={name:"Table",components:{ActionButton:i["a"]},props:{allDBsensors:{type:Array,required:!0}},methods:{fireDelete:function(e){this.$emit("delete-action",e)},fireEdit:function(e){this.$emit("edit-action",e)}}},u=c,m=n("2877"),_=Object(m["a"])(u,l,d,!1,null,null,null),p=_.exports,b=n("5c8e"),h=(n("1157"),n("6e97")),v={name:"UpdateSensor",components:{Modal:r["a"],Table:p,ActionButton:i["a"],EditForm:b["a"]},data:function(){return{boolModal1:!1,valr:null,nameSensor:null,nameZone:null,sensorDesc:null,typeSc:"",types:[{id:1,name:"Scène large échelle"},{id:2,name:"Scène à moyenne échelle"}],allDBsensors:[],editFormData:{},deletedSensor:{}}},methods:{editSensorModal:function(e){var t=new h["a"](document.getElementById("exampleModal"));this.editFormData=Object.assign({},e),this.nameSensor=e.sensor_name,t.show()},deleteSensorModal:function(e){var t=new h["a"](document.getElementById("deleteModal"));this.deletedSensor=Object.assign({},e),t.show()},deleteSensor:function(){var e=this;a["a"].deleteSensorRequest(this.deletedSensor.id).then((function(){e.getMySensors();var t=document.getElementById("deleteModal"),n=h["a"].getInstance(t);n.hide()})),a["a"].DeleteRegistredSensor(this.deletedSensor)},postEditedData:function(e){var t=this,n={sensor_name:e.sensor_name,sensor_zone:e.sensor_zone,sensor_desc:e.sensor_desc,sensor_type_name:e.sensor_type_name,sensor_type_id:e.sensor_type_id};a["a"].UpdateRegistredSensor(n,this.nameSensor,e.sensor_type_name),a["a"].postEditData(e.id,n).then((function(){t.getMySensors();var e=document.getElementById("exampleModal"),n=h["a"].getInstance(e);n.hide()})),console.log(this.nameSensor+" this is the name")},getMySensors:function(){var e=this;a["a"].getSensors().then((function(t){e.allDBsensors=t.data})).catch((function(e){console.log(e)}))},close_edit:function(){new h["a"](document.getElementById("exampleModal"));console.log("wsalt"),console.log("wsalt2")}},created:function(){this.getMySensors()},computed:{}},f=v,y=Object(m["a"])(f,o,s,!1,null,null,null);t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-2d0e88ac.7bd48d72.js.map